<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>

  <style>
  	*{
  		margin : 0;
  		padding : 0;
  	}
  	html,body{
  		width : 100%;
		height : 100%;
  	}
	.box{
		width : 100%;
		height : 100%;
		background : url(images/bg.jpg);
		background-repeat : no-repeat;
		background-size : 100% 100%;
	}
	.star{
		position : absolute;
		width : 50px;
		height : 50px;
		background-image : url(images/1.gif);
		background-size : 50px 50px;

	}
	.star1{
		left : 100px;
		top : 0px;
	}
	.star2{
		left : 68px;
		top : 50px;
	}
	.star3{
		left : 132px;
		top : 50px;
	}
  </style>

 </head>
 <!-- 记得添加隐藏底部滚动条的代码-->
 <body style = "">
	<div class = "box" id = "box">
		<div class = "star star1" id = "star1" style = "display : none;"></div>
	<!-- 	<div class = "star star2" id = "star2"></div>
		<div class = "star star3" id = "star3"></div>
		<div class = "star star3" ></div>
		<div class = "star star3" ></div>
		<div class = "star star3" ></div>
		<div class = "star star3" ></div>
		<div class = "star star3" ></div>
		<div class = "star star3" ></div>
		<div class = "star star3" ></div>
		<div class = "star star3" ></div>
		<div class = "star star3" ></div>
		<div class = "star star3" ></div>
		<div class = "star star3" ></div>
		<div class = "star star3" ></div> -->
	</div>

	<script src = "https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
	<script>
	//页尾执行js代码
	//定义全局底标
	var indexx = 0;
	//定义队形参数
	var teamCount = 0;
	//定义变换位置的函数
	function transforms(emt,num){
		var tops = Math.random()*500;
		var lefts = Math.random()*1000;
		//console.log(tops);
		//console.log(lefts);5的倍数，则排成队形
		//用id为0的作为特殊计数器
		//console.log(num);
		if(num == 0){
			teamCount++;
			//console.log(teamCount);
		}
		//开始进行圆的运算
		if(teamCount % 5 == 0){
			tops = Math.sin(num/18 *Math.PI) * 100 + 300;
			lefts = Math.cos(num/18 *Math.PI) * 100 + 500;
		}

		$(emt).animate({
			top : tops,
			left : lefts
		},3000,function(){
			transforms(emt,num);
		});
	}

	function createStar(){
		var newElementContent = "<div class = 'star star1' id = 'star1'></div>";
		var newStar = $(newElementContent).appendTo("#box");
		//console.log(newStar[0]);
		indexx++;
		//console.log(indexx);
		transforms(newStar[0],indexx);
		//得把时间和原生的对准才行
	}

	//当页面加载完执行
	$(document).ready(function(){
		// var star1 = document.getElementById("star1");
		// transforms(star1);
		// var star2 = document.getElementById("star2");
		// transforms(star2);
		// var star3 = document.getElementById("star3");
		// transforms(star3);		
		var stars = document.getElementsByClassName("star");
		//console.log(stars);
		//创造新星
		var counter = 0;
			var flag = setInterval(function(){
				if(counter < 36){
					createStar();
				}
				else{
					clearInterval(flag);
				}
				counter++;
			},3000);
		for(var i = 0;i < stars.length;i++){
			// console.log(stars[i]);
			 indexx = i;
			 transforms(stars[i],i);
		}
	});
	</script>
 </body>
</html>
